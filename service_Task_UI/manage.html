<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="css/manage.css" />
    <script src="bootstrap/js/jquery-2.1.1.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>
    <script src="js/config.js"></script>
    <script src="js/check.js"></script>
    <script src="js/vue.global.js"></script>
  </head>
  <body>
    <div class="container-fluid" id="app">
      <!-- 图像头start -->
      <div class="row">
        <img class="full-screen-250px" src="image/head2.jpg" />
      </div>
      <!-- 图像头end -->
      <!-- 菜单start -->
      <div class="row margin-top-15px">
        <!-- 左边的菜单start -->
        <div class="col-md-3">
          <div class="panel panel-primary">
            <!-- Default panel contents -->
            <div class="panel-heading">
              手机维修管理系统
              <span id="info"></span>
            </div>
            <!-- List group -->
            <ul class="list-group">
              <a
                href="javascript:void(0)"
                @click="showPanel('cus')"
                class="list-group-item"
              >
                客户接待
              </a>
              <a
                href="javascript:void(0)"
                @click="showPanel('fix')"
                class="list-group-item"
              >
                维修管理
              </a>
              <a
                href="javascript:void(0)"
                @click="showPanel('fitting')"
                class="list-group-item"
              >
                配件查询
              </a>
              <a href="#" class="list-group-item">供应商管理</a>
              <a href="#" class="list-group-item">账户管理</a>
              <a
                href="javascript:void(0)"
                @click="exitLogin()"
                class="list-group-item"
              >
                退出登录
              </a>
            </ul>
          </div>
        </div>
        <!-- 左边的菜单end -->

        <!-- 右边的cusPanel start -->
        <div class="col-md-9" v-show="cusView">
          <div class="panel panel-primary">
            <!-- Default panel contents -->
            <div class="panel-heading">客户业务代理列表</div>
            <!-- 菜单表单start -->
            <div class="panel-body">
              <form class="form-inline flex-container">
                <div class="form-group">
                  <label for="exampleInputName2">客户姓名：</label>
                  <input
                    type="text"
                    class="form-control"
                    v-model="task.cus_name"
                    placeholder="请输入姓名"
                  />
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail2">客户电话：</label>
                  <input
                    type="tel"
                    class="form-control"
                    v-model="task.cus_phone"
                    placeholder="请输入电话"
                  />
                </div>
                <div class="form-group">
                  <label for="exampleInputEmail2">维修项目：</label>
                  <select v-model="task.service_item" class="form-control">
                    <option>电池</option>
                    <option>屏幕</option>
                    <option>背板</option>
                    <option>主板</option>
                    <option>摄像头</option>
                  </select>
                  <button class="btn btn-warning" @click.prevent="insertTask()">
                    保存
                  </button>
                </div>
              </form>
            </div>
            <!-- 菜单表单end -->
            <!-- List group -->
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>任务编号</th>
                  <th>客户姓名</th>
                  <th>客户电话</th>
                  <th>维修项目</th>
                  <th>状态</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="item in tasks">
                  <td>{{item.task_no}}</td>
                  <td>{{item.cus_name}}</td>
                  <td>{{item.cus_phone}}</td>
                  <td>{{item.service_item}}</td>
                  <td>
                    {{item.task_state == 0 ? "录单完成":(item.task_state == 1 ?
                    "维修中" : "等待取机") }}
                  </td>
                  <td>
                    <button
                      v-show="item.task_state == 0"
                      class="btn btn-warning"
                      @click="deleteTask(item.task_id, item.task_no)"
                    >
                      删除维修单
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- 右边的cusPanel end -->

        <!-- 右边的配件panel start -->
        <div class="col-md-9" v-show="fittingView">
          <div class="panel panel-primary">
            <!-- Default panel contents -->
            <div class="panel-heading">配件列表</div>
            <!-- List group -->
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>配件编号</th>
                  <th>配件名称</th>
                  <th>库存数量</th>
                  <th>配件厂地</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="fitting in fittings">
                  <td>{{fitting.fit_id}}</td>
                  <td>{{fitting.fit_name}}</td>
                  <td>{{fitting.fit_qty}}</td>
                  <td>{{fitting.fit_factory}}</td>
                  <td>
                    <button class="btn btn-success">查看详情</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- 右边的配件panel end-->

        <!-- 右边的维修fixPanel start -->
        <div class="col-md-9" v-show="fixView">
          <div class="panel panel-primary">
            <!-- Default panel contents -->
            <div class="panel-heading">维修业务列表</div>
            <!-- List group -->
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>任务编号</th>
                  <th>客户姓名</th>
                  <th>客户电话</th>
                  <th>维修项目</th>
                  <th>状态</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="item in tasks">
                  <td>{{item.task_no}}</td>
                  <td>{{item.cus_name}}</td>
                  <td>{{item.cus_phone}}</td>
                  <td>{{item.service_item}}</td>
                  <td>
                    {{item.task_state == 0 ? "录单完成": (item.task_state == 1 ?
                    "维修中" : "等待取机") }}
                  </td>
                  <td>
                    <button
                      v-show="item.task_state == 0"
                      class="btn btn-success"
                      @click=""
                    >
                      开始维修
                    </button>
                    <button
                      v-show="item.task_state == 1"
                      class="btn btn-warning"
                      @click=""
                    >
                      完成维修
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!-- 右边的fixPanel end -->
      </div>
      <!-- 菜单end -->
    </div>
    <script src="js/manage.js"></script>
  </body>
</html>
